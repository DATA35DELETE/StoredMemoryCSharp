<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="../main.css">
    <script src="../main.js"></script>

    <link rel="icon" type="image/png" href="img/CiguraData.png">

    <link rel="stylesheet" href="../hljs/vs2015.min.css">
    <script src="../hljs/highlight.min.js"></script>
    <script src="../hljs/number.min..js"></script>
    <script>
        hljs.highlightAll();
        hljs.initLineNumbersOnLoad();
    </script>

    <title>Dapper : CRUD</title>

</head>
<body>
    <h1>CRUD</h1>
    
    <h2>CRUD Nedir?</h2>
    <pre id="preh2">    CRUD, vertabanÄ± iÅŸlemlerinde Create, Read, Update, Delete kelimelerin baÅŸ harfleridir. Bunlar veritabanlardaki iÅŸlemleri temsil eder.</pre>

    <h2>Create</h2>
    
    <h3>VeritabanÄ± OluÅŸturma</h3>
    <pre id="preh3">    VeritabanÄ± oluÅŸturmak iÃ§in ise;</pre>

    <pre id="codeh3"><code class="language-sql">CREATE DATABASE exmapledb; -- exampledb isimli veritabanÄ± oluÅŸtur</code>
    KullanÄ±lÄ±r.</pre>

    <h3>Tablo OluÅŸturma</h3>
    <pre id="preh3">    Dapper, SQL dilini kullanÄ±r. Yani sorgumuzu SQL dilinde yazmalÄ± ve Ã§alÄ±ÅŸtÄ±rmalÄ±yÄ±z. Åimdilik hangi sorgular ne iÅŸe yarÄ±yor onu gÃ¶relim.</pre>

    <pre id="codeh3"><code class="language-sql">CREATE TABLE exampletable (
    id INT AUTO_INCREMENT PRIMARY KEY, -- ID
    name VARCHAR(100), -- name isimli string tÃ¼rÃ¼nde deÄŸiÅŸken
    age INT -- age isim
);</code></pre>
    
    <h3>Veri Ekleme</h3>
    <pre id="preh3">    Tablolara veri eklemek iÃ§in;</pre>

    <pre id="codeh3"><code class="language-sql">INSERT INTO exampletable (X, Y) VALUES
('x', y),
('x', y),
('x', y);</code></pre>

    <h2>Read (Select)</h2>

    <h3>VeritabanÄ± Okuma</h3>
    <pre id="preh3">    SHOW, ile veritabanlarÄ±nÄ± gÃ¶rÃ¼ntÃ¼leriz. GÃ¶rÃ¼ntÃ¼lenen veritabanlarÄ±nÄ± konsolda yazdÄ±ralÄ±m sÄ±rayla.</pre>

    <pre id="codeh3"><code class="language-csharp">string connectionString = "Server=localhost;Database=testdb;User ID=root;Password=1234;";

using var connection = new MySqlConnection(connectionString);
connection.Open();

var data = connection.Query("SHOW DATABASES;");

foreach (var dt in data)
{
    Console.WriteLine($"VeritabanÄ±: {dt.db}");
}

public class data
{
    public int Id { get; set; }
}</code></pre>

    <h3>Tablo Okuma</h3>
    <pre id="preh3">    VeritabanlarÄ±ndaki iÅŸlemlerinin aynÄ±sÄ±nÄ± bur kÄ±sÄ±mda geÃ§erlidir.</pre>

    <pre id="codeh3"><code class="language-csharp">string connectionString = "Server=localhost;Database=testdb;User ID=root;Password=1234;";

using var connection = new MySqlConnection(connectionString);
connection.Open();

var data = connection.Query("USE exampledb"
                            + "SHOW TABLE");
foreach (var tb in data)
{
    Console.WriteLine($"VeritabanÄ±: {tb.Value}");
}

public class data
{
    public int Value { get; set; }
}</code></pre>

    <h3>Veri Okuma</h3>
    <pre id="preh3">    VeritabanlarÄ±ndaki veriler tablolarda saklanÄ±r. Bunun iÃ§in SELECT kullÄ±nÄ±lÄ±r.</pre>

    <pre id="codeh3"><code class="language-csharp">string connectionString = "Server=localhost;Database=testdb;User ID=root;Password=1234;";

using var connection = new MySqlConnection(connectionString);
connection.Open();

var data = connection.Query("USE exampledb"
                            + "SELECT X, Y, Z FROM ecampletable");
foreach (var data in result)
{
    Console.WriteLine($"VeritabanÄ±: {tb.Value}");
}

public class data
{
    public int Id { get; set; }
    public string Name { get; set; }
    public string Email { get; set; }
}</code></pre>

    <h2>GÃ¼ncelleme</h2>

    <h3>Veri GÃ¼ncelleme</h3>
    <pre id="codeh3"><code class="language-csharp">using System;
using Dapper;
using MySql.Data.MySqlClient;

namespace storedMemoryCSharp
{
    internal class Program
    {
        static void Main(string[] args)
        {
            string connectionString = "Server=localhost;Database=testdb;User ID=root;Password=;";

            using var connection = new MySqlConnection(connectionString);
            connection.Open();
            Console.WriteLine("âœ… BaÄŸlantÄ± baÅŸarÄ±lÄ±!");

            // GÃ¼ncelleme sorgusu
            string updateQuery = "UPDATE users SET name = @name, email = @mail WHERE id = @id";

            // Parametreleri belirliyoruz
            var parameters = new
            {
                id = 1, // GÃ¼ncellenecek kullanÄ±cÄ±nÄ±n ID'si
                name = "Ahmet YÄ±lmaz",
                mail = "ahmetyilmaz@mail.com"
            };

            // UPDATE iÅŸlemini Ã§alÄ±ÅŸtÄ±rÄ±yoruz
            int affectedRows = connection.Execute(updateQuery, parameters);

            Console.WriteLine($"ğŸ” GÃ¼ncellenen satÄ±r sayÄ±sÄ±: {affectedRows}");
        }
    }
}</code></pre>

    <h2>Silme</h2>

    <h3>VeritabanÄ± Silme</h3>
    <pre id="codeh3"><code class="language-csharp">using System;
using Dapper;
using MySql.Data.MySqlClient;

namespace storedMemoryCSharp
{
    internal class Program
    {
        static void Main(string[] args)
        {
            // Burada "master" gibi bir yÃ¶netim veritabanÄ±na baÄŸlanÄ±yoruz
            string connectionString = "Server=localhost;User ID=root;Password=;";

            using var connection = new MySqlConnection(connectionString);
            connection.Open();
            Console.WriteLine("âœ… MariaDB baÄŸlantÄ±sÄ± baÅŸarÄ±lÄ±!");

            // Silinecek veritabanÄ± adÄ±
            string dbName = "testdb";

            // VeritabanÄ±nÄ± silme komutu
            string dropDbQuery = $"DROP DATABASE IF EXISTS {dbName}";

            int result = connection.Execute(dropDbQuery);

            Console.WriteLine($"ğŸ’¥ '{dbName}' veritabanÄ± silindi (varsa).");
        }
    }
}
</code></pre>

    <h3>Tablo Silme</h3>
    <pre id="codeh3"><code class="language-csharp">using System;
using Dapper;
using MySql.Data.MySqlClient;

namespace storedMemoryCSharp
{
    internal class Program
    {
        static void Main(string[] args)
        {
            string connectionString = "Server=localhost;Database=testdb;User ID=root;Password=;";

            using var connection = new MySqlConnection(connectionString);
            connection.Open();
            Console.WriteLine("âœ… VeritabanÄ±na baÄŸlanÄ±ldÄ±.");

            // Silinecek tablo adÄ±
            string tableName = "users";

            // Tabloyu silme sorgusu
            string dropTableQuery = $"DROP TABLE IF EXISTS {tableName}";

            int result = connection.Execute(dropTableQuery);

            Console.WriteLine($"ğŸ—‘ï¸ '{tableName}' tablosu silindi (varsa).");
        }
    }
}</code></pre>

    <h3>Veri Silme</h3>
    <pre id="codeh3"><code class="language-csharp">using System;
using Dapper;
using MySql.Data.MySqlClient;

namespace storedMemoryCSharp
{
    internal class Program
    {
        static void Main(string[] args)
        {
            string connectionString = "Server=localhost;Database=testdb;User ID=root;Password=;";

            using var connection = new MySqlConnection(connectionString);
            connection.Open();
            Console.WriteLine("âœ… MariaDB baÄŸlantÄ±sÄ± baÅŸarÄ±lÄ±!");

            // Silinecek kaydÄ±n IDâ€™sini belirliyoruz
            int deleteId = 2;

            // DELETE sorgusu
            string deleteQuery = "DELETE FROM users WHERE id = @id";

            // Sorguyu Ã§alÄ±ÅŸtÄ±r
            int affectedRows = connection.Execute(deleteQuery, new { id = deleteId });

            // SonuÃ§
            if (affectedRows > 0)
                Console.WriteLine($"ğŸ—‘ï¸ ID {deleteId} olan kullanÄ±cÄ± silindi!");
            else
                Console.WriteLine($"âš ï¸ ID {deleteId} bulunamadÄ±, silinmedi.");
        }
    }
}
</code></pre>

    <h2>KaynakÃ§a</h2>
    <ul>
        <li><a href="https://www.example.com" target="_blank" rel="noopener noreferrer">Example Kaynak 1</a></li>
    </ul>

    <div style="height: 100px;"></div>

    <footer style="position: fixed; left: 0; bottom: 0; width: 100%; background: transparent; text-align: center; padding: 10px 0; z-index: 100;">
        <div>
            <a href="" style="margin-right: 20px; cursor:pointer;">
                &larr; Ã–nceki
            </a>
            <a href="" style="cursor:pointer;">
                Sonraki &rarr;
            </a>
        </div>
        <div>
            <p>&copy; 2025 SMX Projesinin Bir Fork'dur.</p>
        </div>

        <div style="position: absolute; right: 20px; bottom: 20px;">
            <a href="./1 C%23 Ä°Ã§indekiler.html" style="text-decoration: none;">
                Ä°Ã§indekiler
            </a>
        </div>
    </footer>
</body>
</html>